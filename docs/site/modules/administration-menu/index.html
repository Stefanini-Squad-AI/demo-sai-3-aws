<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administration Menu - User Story Development Guide</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        .section {
            background: white;
            margin: 20px 0;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .card {
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            padding: 15px;
        }
        pre {
            background: #f6f8fa;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
        }
        .complexity {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .complexity-badge {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
        }
        .simple { background: #d4edda; color: #155724; }
        .medium { background: #fff3cd; color: #856404; }
        .complex { background: #f8d7da; color: #721c24; }
        a.cta-link {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üì¶ Administration Menu</h1>
            <p>Gu√≠a de desarrollo de historias de usuario</p>
            <p><strong>Prop√≥sito:</strong> Exponer las opciones de seguridad para administradores dentro del ecosistema CardDemo.</p>
        </header>

        <section class="section">
            <h2>üìã Overview</h2>
            <p><strong>Contexto del negocio:</strong> Parte del back-office que permite que administradores controlen usuarios antes de acceder a otras pantallas.</p>
            <p><strong>Responsabilidades clave:</strong> Mostrar opciones numeradas, permitir selecci√≥n por n√∫mero/men√∫, mostrar estado de errores y atajos de teclado (enter/F3).</p>
        </section>

        <section class="section">
            <h2>üéØ User Story Development Guide</h2>

            <h3>üìù Specific US Templates</h3>
            <div class="grid">
                <div class="card">
                    <h4>Seguridad</h4>
                    <p><strong>Patr√≥n:</strong> Como administrador, quiero [acci√≥n] para [valor].</p>
                    <p><strong>Ejemplo:</strong> Como administrador, quiero listar todos los usuarios para validar credenciales antes de editar permisos.</p>
                </div>
                <div class="card">
                    <h4>Operaciones administrativas</h4>
                    <p><strong>Patr√≥n:</strong> Como administrador, quiero [acci√≥n] para [valor].</p>
                    <p><strong>Ejemplo:</strong> Como administrador, quiero registrar un nuevo usuario para delegar funciones de soporte.</p>
                </div>
            </div>

            <h3>‚ö° Development Acceleration Factors</h3>
            <ul>
                <li><strong>MenuScreen:</strong> Componente reutilizable que agrupa encabezado, listado de opciones y atajos sin reescribir estilos.</li>
                <li><strong>SystemHeader:</strong> Muestra programName/transactionId para mantener consistencia con otras pantallas.</li>
                <li><strong>Rutas internas:</strong> Cada opci√≥n define un `path` listo para conectar con vistas de usuarios en `/admin/users/*`.</li>
            </ul>

            <h3>üìä Complexity Guidelines</h3>
            <div class="complexity">
                <div class="complexity-badge simple">Simple (1-2 pts)</div>
                <div class="complexity-badge medium">Medium (3-5 pts)</div>
                <div class="complexity-badge complex">Complex (5-8 pts)</div>
            </div>
            <ul>
              <li><strong>Simple (1-2 pts):</strong> Validar que la selecci√≥n con n√∫mero (01-04) dispara el `onOptionSelect` correcto.</li>
              <li><strong>Medium (3-5 pts):</strong> Sincronizar las opciones con un mock server y mostrar chips `Admin` en opciones cr√≠ticas.</li>
              <li><strong>Complex (5-8 pts):</strong> Integrar con backend real y soportar estados `disabled` din√°micos seg√∫n permisos.</li>
            </ul>
        </section>

        <section class="section">
            <h2>üîß Technical Foundation</h2>

            <h3>üèóÔ∏è Key Components</h3>
            <div class="grid">
                <div class="card">
                    <h4>MenuScreen</h4>
                    <p><strong>Responsabilidad:</strong> Renderiza la UI del men√∫, gestiona selecci√≥n por clic y teclado, maneja errores con `<Alert>`.</p>
                    <p><strong>Reusabilidad:</strong> Se puede reutilizar para men√∫s futuros cambiando `MenuData`.</p>
                </div>
                <div class="card">
                    <h4>SystemHeader</h4>
                    <p><strong>Responsabilidad:</strong> Presenta `transactionId`, `programName`, t√≠tulo y subt√≠tulo.</p>
                    <p><strong>Reusabilidad:</strong> Ubicado tambi√©n en otras pantallas del back-office para mantener consistencia.</p>
                </div>
            </div>

            <h3>üîó Dependencies</h3>
            <ul>
                <li><strong>React Router:</strong> Gestiona los `path` definidos en el men√∫, especialmente `/admin/users/*`.</li>
                <li><strong>Redux + authSlice:</strong> Controla la funci√≥n `logoutUser` y el rol del usuario.</li>
            </ul>

            <h3>üåê Public Interfaces</h3>
            <pre><code>GET /admin/users/list    - Navegar a la lista de usuarios
POST /admin/users/add     - Abrir formulario para crear usuario
PUT /admin/users/update   - Cargar edici√≥n de usuario seleccionado
DELETE /admin/users/delete- Confirmar eliminaci√≥n</code></pre>

            <h3>üìä Data Models</h3>
            <pre><code>export interface MenuData {
  title: string;
  subtitle?: string;
  transactionId: string;
  programName: string;
  userRole: 'admin' | 'back-office';
  options: MenuOption[];
}

export interface MenuOption {
  id: string;
  label: string;
  description?: string;
  path?: string;
  adminOnly?: boolean;
}</code></pre>
        </section>

        <section class="section">
            <h2>üìã Business Rules</h2>
            <ul>
                <li><strong>ROLE ADMIN:</strong> Solo se muestran opciones con `adminOnly: true` cuando `userRole === 'admin'`.</li>
                <li><strong>ATRACTION F3:</strong> La tecla F3 (y ESC) ejecuta `logoutUser` y redirige a `/login`.</li>
                <li><strong>INPUT VALIDATION:</strong> El campo num√©rico acepta solo d√≠gitos y rechaza `>= 3` cifras.</li>
            </ul>
        </section>

        <section class="section">
            <h2>üéØ Acceptance Criteria Patterns</h2>
            <div class="grid">
                <div class="card">
                    <h4>Authentication</h4>
                    <p>Verificar que el men√∫ no se monta si el rol no es `admin`.</p>
                </div>
                <div class="card">
                    <h4>Validation</h4>
                    <p>El formulario del n√∫mero se bloquea si el valor no corresponde a una opci√≥n v√°lida.</p>
                </div>
                <div class="card">
                    <h4>Performance</h4>
                    <p>Renderizar la lista en < 120 ms en entorno de desarrollo.</p>
                </div>
                <div class="card">
                    <h4>Error Handling</h4>
                    <p>Mostrar `<Alert>` con mensaje cuando `onOptionSelect` retorna error.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>‚ö° Performance Considerations</h2>
            <ul>
                <li><strong>Response Time:</strong> < 120 ms para montar el men√∫ completo.</li>
                <li><strong>Throughput:</strong> 60 acciones/segundo en simulaci√≥n de pruebas de carga manual.</li>
                <li><strong>Memory Usage:</strong> < 40 MB en Chrome moderno para la vista del men√∫.</li>
                <li><strong>Cache Strategy:</strong> Reducci√≥n de re-render por memoizaci√≥n y uso de hooks `useCallback`.</li>
            </ul>
        </section>

        <section class="section">
            <h2>üö® Development Risks & Mitigations</h2>
            <div class="grid">
                <div class="card">
                    <h4>‚ö†Ô∏è Dependencia de mocks</h4>
                    <p><strong>Risk:</strong> Si `msw` no sincroniza, las rutas muestran informaci√≥n obsoleta.</p>
                    <p><strong>Mitigation:</strong> Actualizar `app/mocks/handlers.ts` y revisar `msw` en la etapa de integraci√≥n.</p>
                </div>
                <div class="card">
                    <h4>‚ö†Ô∏è Validaci√≥n manual</h4>
                    <p><strong>Risk:</strong> Input num√©rico permite opciones no existentes.</p>
                    <p><strong>Mitigation:</strong> Bloquear el bot√≥n Continue cuando no hay opci√≥n v√°lida y mostrar mensaje.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>üìö Code Examples</h2>
            <h3>Typical Implementation Pattern</h3>
            <pre><code>// Ejemplo extra√≠do de MenuScreen
const handleSubmit = (event) => {
  event.preventDefault();
  const optionIndex = parseInt(selectedInput) - 1;
  const selectedOption = menuData.options[optionIndex];
  if (selectedOption && !selectedOption.disabled) {
    onOptionSelect(selectedOption);
  }
};

// Uso t√≠pico
<Button type="submit" variant="contained" startIcon={<KeyboardReturn />}>
  Continue
</Button></code></pre>
        </section>

        <footer style="text-align: center; margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
            <p><a class="cta-link" href="../index.html">‚Üê Volver al √≠ndice de m√≥dulos</a></p>
            <p><a class="cta-link" href="../../index.html">üè† Volver al Documentation Hub</a></p>
            <p style="color: #666; margin-top: 15px;"><em>√öltima actualizaci√≥n: 2026-01-23 | Precisi√≥n: 95%</em></p>
        </footer>
    </div>
</body>
</html>
